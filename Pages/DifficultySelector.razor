@using TicTacToe.Data
@page "/difficulty"
@inject NavigationManager Nav
@inject GameService GameService
@inject IJSRuntime JS

<h3>Jogar contra a CPU</h3>

<select @bind="selectedDifficulty">
    <option value="Easy">Fácil</option>
    <option value="Medium">Médio</option>
    <option value="Hard">Difícil</option>
</select>

<button @onclick="CriarJogoVsCPU">Iniciar Jogo</button>

@code {
    private Difficulty selectedDifficulty = Difficulty.Easy;

    private async Task CriarJogoVsCPU()
    {
        var userName = await JS.InvokeAsync<string>("localStorage.getItem", "username");
        var game = GameService.CreateGame(userName, true, selectedDifficulty);
        Nav.NavigateTo($"/game/{game.Id}");
    }
}